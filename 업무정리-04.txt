


 Recode
  m_list<RecodeData>


RecordManager :singleton
 - 모든 기록대상은 이 곳에 기록한다.
 - 처음에는 유닛별로 가지고 있게 하려다가. 그건 FPS 스타일인듯
 - RollbackManager 라고 두고 처리하는게 나을거 같다. 
 - 


유닛이 행동에 대해서 
 - RecordManager::Record(object) 식으로 기록.
 * Move 
  * Record_Move(object, from, to)
 * Attack
  - Record HP(object, object)
  - Record Item()
  - 
   

1개의 유닛이 여러개의 Record를 가질수 있게 해볼까?


지금 WorldObjectUpdate를 진행하고 있는데....
조금 난해하게 작업하는 듯한 감이 있는거 같기도 하고....


포지션 갱신에 대해서 작업을 해보자.
게임의 로지컬 프레임이 10프레임이라고 하자.
EventDispatch를 받았다.

데드레코닝으로 일단 해본다. 




UI 작업은 ugui로...
 - 프리팹도 있으니 이걸 수정해서 사용해보면 되겠다.  (guicartoonpack)

 - UI는 처음에 클릭하면 메뉴표시 
   * 이동, 공격, 아이템, 대기.
   *이동 
     1. 이동 가능한 범위 표시
     2. 클릭시 이동처리.
     3. 도착시 행동 메뉴 표시 (공격/아이템/대기)     
     +. 롤백시 이전 위치로 즉시 이동.

   *공격
     -  범위 안에 공격이 가능한 오브젝트가 있어야 표시.
     1. 공격 아이템 선택
     2. 공격 가능한 범위 표시, 
     2-1. 가장 가까운 타겟에게 자동 타겟팅.
     2-2. 공격 가능한 타겟이 없으면 아무것도 안함.
     3. 공격 예상 결과값 표시 
      3-1. 공격자/방어자 렌더 텍스쳐로 표시
      3-2. 확정하면 전투씬으로.
      3-3. 무기 변경 가능.

    *아이템
     1. 장비 순서 변경은 행동 종료에 영향을 끼치지 않는다. 
     1-1. 교환도 마찬가지로 제한 없이 사용가능.
     2. 사용 하는 종류는 행동 종료 상태가 되버림.


    * 대기
     1. 행동종료함. 


  <작업순서>
   0. 플레이어 턴에 대한 코드를 작성해봅세.
   0-1. 현재는 플레이어 턴이라는 개념이 없는데... 이제는 필요함.
   1. 유저 입력 기능
   1-1. 일단 마우스 포인터에 타일 하이라이트,
   1-2. 왼 클릭시 메뉴 표시
   2. 지형을 클릭하면 메뉴가 뜨도록 해보자.
   2-1. 아군 유닛 클릭: 이동, 공격, 대기
   2-2. 적군/NPC클릭 : 상세정보 <- 일단은 없음.
   2-3. 지형 클릭: 메뉴 표시 (목표/저장/로드) <- 일단은 없음.
   
     

     


 애니메이션은 내가 적용을 해본적이 없으니 가지고있는 애니메시션 에셋이랑
  모델링 프리 에셋들 받아서 적용좀 해보자.  
    - 대충 되는 거  같음...
